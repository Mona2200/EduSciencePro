@using EduSciencePro.ViewModels.Request
@using System.Text
@model EditUserViewModel
@{
    ViewData["Title"] = "Редактирование профиля";
    Layout = "_Layout";
}
<div class="col-md-4 text-center">
    <form enctype="multipart/form-data" class="m-3" method="post" asp-controller="User" asp-action="EditUser">

        <h3 class="mb-5 mt-5">Редактирование профиля</h3>

        <label asp-for="AddUserViewModel.FirstName" class="w-100 text-start label_input"></label>
        <p><input class="text-center w-100 p-1" placeholder="Имя" asp-for="AddUserViewModel.FirstName" value="@Model.AddUserViewModel.FirstName"></p>
        <p><span asp-validation-for="AddUserViewModel.FirstName" class="text-danger mb-3"></span></p>

        <label asp-for="AddUserViewModel.LastName" class="w-100 text-start label_input"></label>
        <p><input class="text-center w-100 p-1" placeholder="Фамилия" asp-for="AddUserViewModel.LastName" value="@Model.AddUserViewModel.LastName"></p>
        <p><span asp-validation-for="AddUserViewModel.LastName" class="text-danger mb-3"></span></p>

        <label asp-for="AddUserViewModel.MiddleName" class="w-100 text-start label_input"></label>
        <p><input class="text-center w-100 p-1" placeholder="Отчество" asp-for="AddUserViewModel.MiddleName" value="@Model.AddUserViewModel.MiddleName"></p>
        <p><span asp-validation-for="AddUserViewModel.MiddleName" class="text-danger mb-3"></span></p>

        <div class="d-flex flex-md-row flex-sm-column">
            <div class="d-inline-block mr-2 w-50">
                <label asp-for="AddUserViewModel.Gender" class="w-100 text-start label_input"></label>
                <p>
                    <select size="1" class="text-center w-100 p-1" asp-for="AddUserViewModel.Gender">
                        @if (Model.UserViewModel.Gender == "Мужской")
                        {
                            <option value="Мужской" selected>Мужской</option>
                            <option value="Женский">Женский</option>
                        }
                        else
                        {
                            <option value="Мужской">Мужской</option>
                            <option value="Женский" selected>Женский</option>
                        }

                    </select>
                </p>
                <p><span asp-validation-for="AddUserViewModel.Gender" class="text-danger mb-3"></span></p>
            </div>

            <div class="d-inline-block w-50">
                <label asp-for="AddUserViewModel.Birthday" class="w-100 text-center"></label>
                <p><input type="date" class="text-center w-100 p-1" value="@Model.AddUserViewModel.Birthday" asp-for="AddUserViewModel.Birthday"></p>
                <p><span asp-validation-for="AddUserViewModel.Birthday" class="text-danger mb-3"></span></p>
            </div>
        </div>

        <input class="d-none" id="types_user" asp-for="AddUserViewModel.TypeUsers" value="@Model.AddUserViewModel.TypeUsers">

        <label asp-for="AddUserViewModel.TypeUsers" class="w-100 text-start label_input"></label>
        @foreach (var type in Model.Types)
        {
            if (Model.UserViewModel.TypeUsers.Contains(type))
            {
                <p class="text-start mt-4 p-2 type_user"><input class="checkbox" type="checkbox" value="@type.Id" checked><span class="before_checkbox checked">@type.Name</span></p>
            }
            else
            {
                <p class="text-start mt-4 p-2 type_user"><input class="checkbox" type="checkbox" value="@type.Id"><span class="before_checkbox">@type.Name</span></p>
            }

        }
        <p><span asp-validation-for="AddUserViewModel.TypeUsers" class="text-danger mb-3"></span></p>

        <label asp-for="AddUserViewModel.Email" class="w-100 text-start label_input"></label>
        <p><input class="text-center w-100 p-1" placeholder="Email" value="@Model.UserViewModel.Email" disabled><a class="ml-2 position-absolute" style="transform: translateY(25%);" asp-action="EditEmail" asp-controller="User">Редактировать</a></p>

        <label asp-for="AddUserViewModel.Password" class="w-100 text-start label_input"></label>
        <p><input class="text-center w-100 p-1" placeholder="Пароль" disabled><a class="ml-2 position-absolute" style="transform: translateY(25%);" asp-action="EditPassword" asp-controller="User">Редактировать</a></p>

        <label asp-for="AddUserViewModel.Img" class="w-100 text-start label_input"></label>

        <p><input type="file" name="image" class="text-center w-100 p-1" accept="image/jpeg,image/png" asp-for="AddUserViewModel.Img"></p>
        <p class="text-center"><a asp-controller="User" asp-action="DeleteImage">Удалить фото профиля</a></p>

        <p class="text-start mt-4 p-2"><input class="checkbox" type="checkbox" asp-for="Consent" value="true"><span class="before_checkbox">Согласие на сбор информации. Политика конфиденциальности.</span></p>
        <p><span asp-validation-for="Consent" class="text-danger mb-3"></span></p>

        <p><button class="button form-control-plaintext m-auto w-50 mt-4">Сохранить</button></p>

    </form>

</div>
